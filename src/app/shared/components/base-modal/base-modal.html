<div [class]="modalClasses()">
  <!-- Header -->
  <div [class]="headerClasses()">
    <div [class]="headerContentClasses()">
      @if (config().icon) {
        <lucide-icon [img]="config().icon" class="modal-header-icon"></lucide-icon>
      }
      <h2 class="modal-header-title">
        @if (getTitleKey()) {
          {{ getTitleKey() | translate }}
        } @else {
          {{ getTitle() }}
        }
      </h2>
    </div>
    <app-button
      (clicked)="onClose()"
      variant="ghost"
      [iconOnly]="true"
      size="md"
      [icon]="XIcon"
      customClasses="modal-header-close"
    >
    </app-button>
  </div>

  <!-- Content -->
  <div class="modal-content">
    <div class="modal-content-prose">
      <ng-content></ng-content>
    </div>
  </div>

  <!-- Footer -->
  @if (shouldShowFooter()) {
    <div [class]="footerClasses()">
      @if (getActionButtons().length > 0) {
        <!-- Configurable Action Buttons -->
        @for (button of getActionButtons(); track $index) {
          <app-button
            (clicked)="onActionButtonClick(button)"
            [disabled]="button.disabled || false"
            [variant]="button.variant || 'primary'"
            size="md"
            [icon]="button.icon"
            [text]="button.textKey ? (button.textKey | translate) : button.text"
          >
          </app-button>
        }
      } @else {
        <!--  Close Button -->
        <app-button
          (clicked)="onClose()"
          variant="primary"
          size="md"
          [icon]="XIcon"
          [text]="getFooterButtonKey() ? (getFooterButtonKey() | translate) : getFooterButtonText()"
        >
        </app-button>
      }
    </div>
  }
</div>