<div [class]="getModalClasses()">
  <!-- Header -->
  <div class="flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-t-2xl rtl:flex-row-reverse">
    <div class="flex items-center gap-3 rtl:flex-row-reverse">
      @if (config().icon) {
        <lucide-icon [img]="config().icon" class="w-6 h-6 text-blue-600"></lucide-icon>
      }
      <h2 class="text-xl font-bold text-gray-900">
        @if (getTitleKey()) {
          {{ getTitleKey() | translate }}
        } @else {
          {{ getTitle() }}
        }
      </h2>
    </div>
    <app-button
      (clicked)="onClose()"
      variant="ghost"
      [iconOnly]="true"
      size="md"
      [icon]="XIcon"
      customClasses="text-gray-500"
    >
    </app-button>
  </div>

  <!-- Content -->
  <div class="p-6 overflow-y-auto flex-1 min-h-0">
    <div class="prose max-w-none pb-4">
      <ng-content></ng-content>
    </div>
  </div>

  <!-- Footer -->
  @if (shouldShowFooter()) {
    <div class="flex justify-end rtl:justify-start gap-3 p-6 border-t border-gray-200 flex-shrink-0 rounded-b-2xl">
      @if (getActionButtons().length > 0) {
        <!-- Configurable Action Buttons -->
        @for (button of getActionButtons(); track $index) {
          <app-button
            (clicked)="onActionButtonClick(button)"
            [disabled]="button.disabled || false"
            [variant]="button.variant || 'primary'"
            size="md"
            [icon]="button.icon"
            [text]="button.textKey ? (button.textKey | translate) : button.text"
          >
          </app-button>
        }
      } @else {
        <!--  Close Button -->
        <app-button
          (clicked)="onClose()"
          variant="primary"
          size="md"
          [icon]="XIcon"
          [text]="getFooterButtonKey() ? (getFooterButtonKey() | translate) : getFooterButtonText()"
        >
        </app-button>
      }
    </div>
  }
</div>
